{"version":3,"sources":["../../../../assets/scripts/assets/scripts/game.js"],"names":["cc","Class","extends","Component","properties","paiPrefab","default","type","Prefab","spriteFrames","SpriteFrame","_paiSprites","node","_pais","rows","columns","paiWidth","paiHeight","paddingLeft","paddingTop","_lastPai","lastX","lastY","moveDirection","moveStart","moveEnd","moveMin","moveMax","originalX","originalY","onLoad","Array","i","j","self","newNode","instantiate","getComponent","Sprite","spriteFrame","Math","trunc","addChild","setPosition","v2","setScale","on","Node","EventType","TOUCH_END","event","onTouchEnd","TOUCH_START","onTouchStart","TOUCH_MOVE","onTouchMove","paisStorage","sys","localStorage","getItem","pais","split","shuffle","onDestroy","setItem","log","currentPai","target","color","Color","WHITE","currentX","x","currentY","y","match","lowX","min","lowY","highX","max","highY","GRAY","delta","getDelta","location","getLocation","abs","zIndex","row","column","round","matchFound","array","m","length","t","index","floor","random","start"],"mappings":"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","file":"game.js","sourceRoot":"../../../../assets/scripts","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        paiPrefab: {\n            default: null,\n            type: cc.Prefab\n        },\n\n        spriteFrames: {\n            default: [],\n            type: [cc.SpriteFrame]\n        },\n\n        _paiSprites: {\n            default: [],\n            type: [cc.node]\n        },\n\n        _pais: null,\n\n        rows: 8,\n        columns: 17,\n\n        paiWidth: 60,\n        paiHeight: 90,\n\n        paddingLeft: 640,\n        paddingTop: 360,\n\n        _lastPai: null,\n        lastX: 0,\n        lastY: 0,\n\n        moveDirection: -1,\n        moveStart: 0,\n        moveEnd: 0,\n        moveMin: 0,\n        moveMax: 0,\n        originalX: 0,\n        originalY: 0\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        this._pais = new Array()\n        this._paiSprites = new Array()\n        for (var i = 0; i < this.rows; i++) {\n            this._pais[i] = new Array(i)\n            this._paiSprites[i] = new Array(i)\n            for (var j = 0; j < this.columns; j++) {\n                this._pais[i][j] = -1\n                this._paiSprites[i][j] = null\n            }\n        }\n\n        var self = this\n        for (var i = 0; i < this.rows; i++) {\n            for (var j = 0; j < this.columns; j++) {\n                var newNode = cc.instantiate(this.paiPrefab)\n                newNode.getComponent(cc.Sprite).spriteFrame = this.spriteFrames[Math.trunc((i * this.rows + j) / 4)]\n                this._paiSprites[i][j] = newNode\n                this.node.addChild(newNode)\n                newNode.setPosition(cc.v2(this.paiWidth * j, this.paiHeight * i))\n                newNode.setScale(cc.v2(0.45, 0.45))\n                newNode.on(cc.Node.EventType.TOUCH_END, function(event) {\n                    this.onTouchEnd(event, self)\n                }, this)\n                newNode.on(cc.Node.EventType.TOUCH_START, function(event) {\n                    this.onTouchStart(event, self)\n                }, this)\n                newNode.on(cc.Node.EventType.TOUCH_MOVE, function(event) {\n                    this.onTouchMove(event, self)\n                }, this)\n            }\n        }\n\n        var paisStorage = cc.sys.localStorage.getItem('pais')\n        if (paisStorage != null) {\n            var pais = paisStorage.split(' ')\n            for (var i = 0; i < this.rows; i++) {\n                for (var j = 0; j < this.columns; j++) {\n                    this._paiSprites[i][j].getComponent(cc.Sprite).spriteFrame = this.spriteFrames[pais[i * columns + j] == -1 ? 34 : pais[i * columns + j]]\n                    this._paiSprites[i][j].getComponent('Pai').type = pais[i * columns + j]\n                }\n            }\n        } else {\n            this.shuffle()\n        }\n    },\n\n    onDestroy () {\n        var pais = \"\"\n        for (var i = 0; i < this.rows; i++) {\n            for (var j = 0; j < this.columns; j++) {\n                pais += this._paiSprites[i][j].getComponent('Pai').type + \" \"\n            }\n        }\n        cc.sys.localStorage.setItem('pais', pais)\n        cc.log('save state')\n    },\n\n    onTouchStart (event, self) {\n        var currentPai = event.target\n        if (self._lastPai != null) {\n            self._lastPai.color = cc.Color.WHITE\n            if (currentPai.getComponent('Pai').type === self._lastPai.getComponent('Pai').type && currentPai != self._lastPai) {\n                var currentX = currentPai.getComponent('Pai').x\n                var currentY = currentPai.getComponent('Pai').y\n                var lastX = self._lastPai.getComponent('Pai').x\n                var lastY = self._lastPai.getComponent('Pai').y\n\n                cc.log(\"current: \" + currentX + \",\" + currentY)\n                cc.log(\"last: \" + lastX + \",\" + lastY)\n                var match = true\n                var lowX = Math.min(currentX, lastX)\n                var lowY = Math.min(currentY, lastY)\n                var highX = Math.max(currentX, lastX)\n                var highY = Math.max(currentY, lastY)\n\n                if ((currentX < lastX && currentY < lastY) || (currentX >= lastX && currentY >= lastY)) {\n                    cc.log(\"a\")\n                    for (var i = lowX + 1; i <= highX; i++) {\n                        cc.log(\"a1: \" + i + \",\" + lowY + \":\" + self._paiSprites[i][lowY].getComponent('Pai').type)\n                        if (i != highX && self._paiSprites[i][lowY].getComponent('Pai').type != -1) {\n                            match = false\n                            break\n                        }\n                    }\n\n                    if (match) {\n                        for (var j = lowY; j < highY; j++) {\n                            cc.log(\"a2: \" + highX + \",\" + j + \":\" + self._paiSprites[highX][j].getComponent('Pai').type)\n                            if (self._paiSprites[highX][j].getComponent('Pai').type != -1) {\n                                match = false\n                                break\n                            }\n                        }\n                    }\n\n                    if (!match) {\n                        match = true\n                        for (var j = lowY + 1; j <= highY; j++) {\n                            cc.log(\"a3: \" + lowX + \",\" + j + \":\" + self._paiSprites[lowX][j].getComponent('Pai').type)\n                            if (j != highY && self._paiSprites[lowX][j].getComponent('Pai').type != -1) {\n                                match = false\n                                break\n                            }\n                        }\n\n                        if (match) {\n                            for (var i = lowX; i < highX; i++) {\n                                cc.log(\"a4: \" + i + \",\" + highY + \":\" + self._paiSprites[i][highY].getComponent('Pai').type)\n                                if (self._paiSprites[i][highY].getComponent('Pai').type != -1) {\n                                    match = false\n                                    break\n                                }\n                            }\n                        }\n                    }\n                } else if ((currentX >= lastX && currentY < lastY) || (currentX < lastX && currentY >= lastY)) {\n                    cc.log(\"b\")\n                    for (var i = lowX + 1; i <= highX; i++) {\n                        cc.log(\"b1: \" + i + \",\" + highY + \":\" + self._paiSprites[i][highY].getComponent('Pai').type)\n                        if (i != highX && self._paiSprites[i][highY].getComponent('Pai').type != -1) {\n                            match = false\n                            break\n                        }\n                    }\n\n                    if (match) {\n                        for (var j = highY; j > lowY; j--) {\n                            cc.log(\"b2: \" + highX + \",\" + j + \":\" + self._paiSprites[highX][j].getComponent('Pai').type)\n                            if (self._paiSprites[highX][j].getComponent('Pai').type != -1) {\n                                match = false\n                                break\n                            }\n                        }\n                    }\n\n                    if (!match) {\n                        match = true\n                        for (var j = highY - 1; j >= lowY; j--) {\n                            cc.log(\"b3: \" + lowX + \",\" + j + \":\" + self._paiSprites[lowX][j].getComponent('Pai').type)\n                            if (j != lowY && self._paiSprites[lowX][j].getComponent('Pai').type != -1) {\n                                match = false\n                                break\n                            }\n                        }\n\n                        if (match) {\n                            for (var i = lowX; i < highX; i++) {\n                                cc.log(\"b4: \" + i + \",\" + lowY + \":\" + self._paiSprites[i][lowY].getComponent('Pai').type)\n                                if (self._paiSprites[i][lowY].getComponent('Pai').type != -1) {\n                                    match = false\n                                    break\n                                }\n                            }\n                        }\n                    }\n                }\n                if (match) {\n                    currentPai.getComponent(cc.Sprite).spriteFrame = self.spriteFrames[34]\n                    self._lastPai.getComponent(cc.Sprite).spriteFrame = self.spriteFrames[34]\n                    currentPai.getComponent('Pai').type = -1\n                    self._lastPai.getComponent('Pai').type = -1\n                    currentPai.color = cc.Color.WHITE\n                }\n            }\n        }\n        currentPai.color = cc.Color.GRAY\n        self._lastPai = currentPai\n        self.originalX = currentPai.getComponent('Pai').x\n        self.originalY = currentPai.getComponent('Pai').y\n    },\n\n    onTouchMove (event, self) {\n        var delta = event.getDelta()\n        var location = event.getLocation()\n        if (self._lastPai != null) {\n            var x = self._lastPai.getComponent('Pai').x\n            var y = self._lastPai.getComponent('Pai').y\n            if (self.moveDirection === -1) {\n                if (Math.abs(delta.x) > Math.abs(delta.y)) {\n                    self.moveDirection = 0\n                    if (y === 0) {\n                        self.moveStart = 0\n                        self.moveMin = 0\n                    } else {\n                        var i = y - 1\n                        while (i >= 0 && self._paiSprites[x][i].getComponent('Pai').type != -1) {\n                            i--\n                        }\n                        self.moveStart = i + 1\n                        while (i >= 0 && self._paiSprites[x][i].getComponent('Pai').type === -1) {\n                            i--\n                        }\n                        self.moveMin = i + 1\n                    }\n                    if (y === self.columns - 1) {\n                        self.moveEnd = self.columns - 1\n                        self.moveMax = self.columns - 1\n                    } else {\n                        var i = y + 1\n                        while (i < self.columns && self._paiSprites[x][i].getComponent('Pai').type != -1) {\n                            i++\n                        }\n                        self.moveEnd = i - 1\n                        while (i < self.columns && self._paiSprites[x][i].getComponent('Pai').type === -1) {\n                            i++\n                        }\n                        self.moveMax = i - 1\n                    }\n                    for (var j = self.moveStart; j <= self.moveEnd; j++) {\n                        self._paiSprites[x][j].zIndex = 1000\n                    }\n                } else {\n                    self.moveDirection = 1\n                    if (x === 0) {\n                        self.moveStart = 0\n                        self.moveMin = 0\n                    } else {\n                        var i = x - 1\n                        while (i >= 0 && self._paiSprites[i][y].getComponent('Pai').type != -1) {\n                            i--\n                        }\n                        self.moveStart = i + 1\n                        while (i >= 0 && self._paiSprites[i][y].getComponent('Pai').type === -1) {\n                            i--\n                        }\n                        self.moveMin = i + 1\n                    }\n                    if (x === self.rows - 1) {\n                        self.moveEnd = self.rows - 1\n                    } else {\n                        var i = x + 1\n                        while (i < self.rows && self._paiSprites[i][y].getComponent('Pai').type != -1) {\n                            i++\n                        }\n                        self.moveEnd = i - 1\n                        while (i < self.rows && self._paiSprites[i][y].getComponent('Pai').type === -1) {\n                            i++\n                        }\n                        self.moveMax = i - 1\n                    }\n                    for (var i = self.moveStart; i <= self.moveEnd; i++) {\n                        self._paiSprites[i][y].zIndex = 1000\n                    }\n                }\n            }\n\n            if (self.moveDirection === 0) {\n                var row = self._lastPai.getComponent('Pai').x\n                if ((delta.x > 0 && self._paiSprites[row][self.moveEnd].x + delta.x <= self.moveMax * self.paiWidth)\n                    || (delta.x < 0 && self._paiSprites[row][self.moveStart].x + delta.x >= self.moveMin * self.paiWidth)) {\n                    for (var j = self.moveStart; j <= self.moveEnd; j++) {\n                        self._paiSprites[row][j].x += delta.x\n                    }\n                }\n            } else {\n                var column = self._lastPai.getComponent('Pai').y\n                if ((delta.y > 0 && self._paiSprites[self.moveEnd][column].y + delta.y <= self.moveMax * self.paiHeight)\n                    || (delta.y < 0 && self._paiSprites[self.moveStart][column].y + delta.y >= self.moveMin * self.paiHeight)) {\n                    for (var i = self.moveStart; i <= self.moveEnd; i++) {\n                        self._paiSprites[i][column].y += delta.y\n                    }\n                }\n            }\n        }\n    },\n\n    onTouchEnd (event, self) {\n        cc.log('touchEnd: ')\n        if (self.moveDirection === 0) {\n            var row = self._lastPai.getComponent('Pai').x\n            var column = self._lastPai.getComponent('Pai').y\n            var currentX = Math.round(self._lastPai.x / self.paiWidth)\n            var delta = currentX - column\n            var matchFound = false\n            // cc.log('column: ' + column)\n            // cc.log('currentX: ' + currentX)\n            // cc.log('delta: '  + delta)\n            if (delta > 0) {\n                for (var j = self.moveStart; j <= self.moveEnd + delta; j++) {\n                    if (j < self.moveStart + delta && row != self.rows - 1 && row != 0) {\n                        var highX = row + 1\n                        while (highX < self.rows && self._paiSprites[highX][j].getComponent('Pai').type === -1) {\n                            highX++\n                        }\n                        var lowX = row - 1\n                        while (lowX >= 0 && self._paiSprites[lowX][j].getComponent('Pai').type === -1) {\n                            lowX--\n                        }\n                        //cc.log('lowX: ' + lowX)\n                        //cc.log('highX: ' + highX + \", j: \" + j + \", type: \" + self._paiSprites[highX][j].getComponent('Pai').type)\n                        //cc.log('lowX: ' + lowX + \", j: \" + j + \", type: \" + self._paiSprites[lowX][j].getComponent('Pai').type)\n                        if (lowX >= 0 && highX < self.rows && self._paiSprites[highX][j].getComponent('Pai').type === self._paiSprites[lowX][j].getComponent('Pai').type\n                            && self._paiSprites[lowX][j].getComponent('Pai').type != -1) {\n                            matchFound = true\n                            break\n                        }\n                    }\n                    if (j >= self.moveStart + delta) {\n                        if (row != self.rows - 1) {\n                            var highX = row + 1\n                            while (highX < self.rows && self._paiSprites[highX][j].getComponent('Pai').type === -1) {\n                                highX++\n                            }\n                            //cc.log('highX: ' + highX + \", j: \" + \"\" + j + \", type: \" + self._paiSprites[highX][j].getComponent('Pai').type)\n                            //cc.log('row: ' + row + \", j: \" + j + \", delta\" + delta + \", type: \" + self._paiSprites[row][j - delta].getComponent('Pai').type)\n                            if (highX < self.rows && self._paiSprites[highX][j].getComponent('Pai').type == self._paiSprites[row][j - delta].getComponent('Pai').type\n                                && self._paiSprites[highX][j].getComponent('Pai').type != -1) {\n                                    matchFound = true\n                                    break\n                            }\n                        }\n                        if (row != 0) {\n                            var lowX = row - 1\n                            while (lowX >= 0 && self._paiSprites[lowX][j].getComponent('Pai').type === -1) {\n                                lowX--\n                            }\n                            //cc.log('lowX: ' + lowX + \", j: \" + \"\" + j)\n                            //cc.log('lowX: ' + lowX + \", j: \" + \"\" + j + \", type: \" + self._paiSprites[lowX][j].getComponent('Pai').type)\n                            //cc.log('row: ' + row + \", j: \" + j + \", delta\" + delta + \", type: \" + self._paiSprites[row][j - delta].getComponent('Pai').type)\n                            if (lowX >= 0 && self._paiSprites[lowX][j].getComponent('Pai').type === self._paiSprites[row][j - delta].getComponent('Pai').type\n                                && self._paiSprites[lowX][j].getComponent('Pai').type != -1) {\n                                matchFound = true\n                                break\n                            }\n                        }\n                    }\n                }\n                cc.log(\"matchFound: \" + matchFound)\n                if (matchFound) {\n                    for (var j = self.moveEnd; j >= self.moveStart; j--) {\n                        //cc.log(\"x: \" + row + \", y: \" + (j + delta) + \", from: \" + self._paiSprites[row][j + delta].getComponent('Pai').type + \", to: \" + self._paiSprites[row][j].getComponent('Pai').type)\n                        self._paiSprites[row][j + delta].getComponent('Pai').type = self._paiSprites[row][j].getComponent('Pai').type\n                        self._paiSprites[row][j + delta].getComponent(cc.Sprite).spriteFrame = self.spriteFrames[self._paiSprites[row][j].getComponent('Pai').type]\n                        if (j < self.moveStart + delta) {\n                            self._paiSprites[row][j].getComponent('Pai').type = -1\n                            self._paiSprites[row][j].getComponent(cc.Sprite).spriteFrame = self.spriteFrames[34]\n                        }\n                        //cc.log('set row: ' + row + ', j: ' + j + \" to \" + self._paiSprites[row][j].getComponent('Pai').x)\n                        self._paiSprites[row][j].x = self._paiSprites[row][j].getComponent('Pai').y * self.paiWidth\n                        self._paiSprites[row][j].zIndex = 0\n                    }\n                } else {\n                    for (var j = self.moveStart; j <= self.moveEnd; j++) {\n                        self._paiSprites[row][j].x = self._paiSprites[row][j].getComponent('Pai').y * self.paiWidth\n                        self._paiSprites[row][j].zIndex = 0\n                    }\n                }\n            } else if (delta < 0) {\n                for (var j = self.moveStart + delta; j <= self.moveEnd; j++) {\n                    if (j > self.moveEnd + delta && row != self.rows - 1 && row != 0) {\n                        var highX = row + 1\n                        while (highX < self.rows && self._paiSprites[highX][j].getComponent('Pai').type === -1) {\n                            highX++\n                        }\n                        var lowX = row - 1\n                        while (lowX >= 0 && self._paiSprites[lowX][j].getComponent('Pai').type === -1) {\n                            lowX--\n                        }\n                        //cc.log('lowX: ' + lowX)\n                        //cc.log('highX: ' + highX + \", j: \" + j + \", type: \" + self._paiSprites[highX][j].getComponent('Pai').type)\n                        //cc.log('lowX: ' + lowX + \", j: \" + j + \", type: \" + self._paiSprites[lowX][j].getComponent('Pai').type)\n                        if (highX < self.rows && lowX >= 0 && self._paiSprites[highX][j].getComponent('Pai').type === self._paiSprites[lowX][j].getComponent('Pai').type\n                            && self._paiSprites[lowX][j].getComponent('Pai').type != -1) {\n                            matchFound = true\n                            break\n                        }\n                    }\n                    if (j <= self.moveEnd + delta) {\n                        if (row != self.rows - 1) {\n                            var highX = row + 1\n                            while (highX < self.rows && self._paiSprites[highX][j].getComponent('Pai').type === -1) {\n                                highX++\n                            }\n                            //cc.log('highX: ' + highX + \", j: \" + \"\" + j + \", type: \" + self._paiSprites[highX][j].getComponent('Pai').type)\n                            //cc.log('row: ' + row + \", j: \" + j + \", delta\" + delta + \", type: \" + self._paiSprites[row][j - delta].getComponent('Pai').type)\n                            if (highX < self.rows && self._paiSprites[highX][j].getComponent('Pai').type == self._paiSprites[row][j - delta].getComponent('Pai').type\n                                && self._paiSprites[highX][j].getComponent('Pai').type != -1) {\n                                    matchFound = true\n                                    break\n                            }\n                        }\n                        if (row != 0) {\n                            var lowX = row - 1\n                            while (lowX >= 0 && self._paiSprites[lowX][j].getComponent('Pai').type === -1) {\n                                lowX--\n                            }\n                            //cc.log('lowX: ' + lowX + \", j: \" + \"\" + j)\n                            //cc.log('lowX: ' + lowX + \", j: \" + \"\" + j + \", type: \" + self._paiSprites[lowX][j].getComponent('Pai').type)\n                            //cc.log('row: ' + row + \", j: \" + j + \", delta\" + delta + \", type: \" + self._paiSprites[row][j - delta].getComponent('Pai').type)\n                            if (lowX >= 0 && self._paiSprites[lowX][j].getComponent('Pai').type === self._paiSprites[row][j - delta].getComponent('Pai').type\n                                && self._paiSprites[lowX][j].getComponent('Pai').type != -1) {\n                                matchFound = true\n                                break\n                            }\n                        }\n                    }\n                }\n                cc.log(\"matchFound: \" + matchFound)\n                if (matchFound) {\n                    for (var j = self.moveStart; j <= self.moveEnd; j++) {\n                        //cc.log(\"x: \" + row + \", y: \" + (j + delta) + \", from: \" + self._paiSprites[row][j + delta].getComponent('Pai').type + \", to: \" + self._paiSprites[row][j].getComponent('Pai').type)\n                        self._paiSprites[row][j + delta].getComponent('Pai').type = self._paiSprites[row][j].getComponent('Pai').type\n                        self._paiSprites[row][j + delta].getComponent(cc.Sprite).spriteFrame = self.spriteFrames[self._paiSprites[row][j].getComponent('Pai').type]\n                        if (j > self.moveEnd + delta) {\n                            self._paiSprites[row][j].getComponent('Pai').type = -1\n                            self._paiSprites[row][j].getComponent(cc.Sprite).spriteFrame = self.spriteFrames[34]\n                        }\n                        //cc.log('set row: ' + row + ', j: ' + j + \" to \" + self._paiSprites[row][j].getComponent('Pai').x)\n                        self._paiSprites[row][j].x = self._paiSprites[row][j].getComponent('Pai').y * self.paiWidth\n                        self._paiSprites[row][j].zIndex = 0\n                    }\n                } else {\n                    for (var j = self.moveStart; j <= self.moveEnd; j++) {\n                        self._paiSprites[row][j].x = self._paiSprites[row][j].getComponent('Pai').y * self.paiWidth\n                        self._paiSprites[row][j].zIndex = 0\n                    }\n                }\n            }\n        } else if (self.moveDirection === 1) {\n            var row = self._lastPai.getComponent('Pai').x\n            var column = self._lastPai.getComponent('Pai').y\n            var currentY = Math.round(self._lastPai.y / self.paiHeight)\n            var delta = currentY - row\n            var matchFound = false\n            cc.log('row: ' + row)\n            cc.log('currentY: ' + currentY)\n            cc.log('delta: '  + delta)\n            if (delta > 0) {\n                for (var i = self.moveStart; i <= self.moveEnd + delta; i++) {\n                    if (i < self.moveStart + delta && column != self.columns - 1 && column != 0) {\n                        var highY = column + 1\n                        while (highY < self.columns && self._paiSprites[i][highY].getComponent('Pai').type === -1) {\n                            highY++\n                        }\n                        var lowY = column - 1\n                        while (lowY >= 0 && self._paiSprites[i][lowY].getComponent('Pai').type === -1) {\n                            lowY--\n                        }\n                        //cc.log('lowY: ' + lowY)\n                        //cc.log('highX: ' + highX + \", j: \" + j + \", type: \" + self._paiSprites[highX][j].getComponent('Pai').type)\n                        //cc.log('lowX: ' + lowX + \", j: \" + j + \", type: \" + self._paiSprites[lowX][j].getComponent('Pai').type)\n                        if (lowY >= 0 && highY < self.columns && self._paiSprites[i][highY].getComponent('Pai').type === self._paiSprites[i][lowY].getComponent('Pai').type\n                            && self._paiSprites[i][lowY].getComponent('Pai').type != -1) {\n                            matchFound = true\n                            break\n                        }\n                    }\n                    if (i >= self.moveStart + delta) {\n                        if (column != self.columns - 1) {\n                            var highY = column + 1\n                            while (highY < self.columns && self._paiSprites[i][highY].getComponent('Pai').type === -1) {\n                                highY++\n                            }\n                            //cc.log('highY: ' + highY + \", j: \" + \"\" + j + \", type: \" + self._paiSprites[highX][j].getComponent('Pai').type)\n                            //cc.log('row: ' + row + \", j: \" + j + \", delta\" + delta + \", type: \" + self._paiSprites[row][j - delta].getComponent('Pai').type)\n                            if (highY < self.columns && self._paiSprites[i][highY].getComponent('Pai').type == self._paiSprites[i - delta][column].getComponent('Pai').type\n                                && self._paiSprites[i][highY].getComponent('Pai').type != -1) {\n                                    matchFound = true\n                                    break\n                            }\n                        }\n                        if (column != 0) {\n                            var lowY = column - 1\n                            while (lowY >= 0 && self._paiSprites[i][lowY].getComponent('Pai').type === -1) {\n                                lowY--\n                            }\n                            //cc.log('lowY: ' + lowY)\n                            //cc.log('lowX: ' + lowX + \", j: \" + \"\" + j + \", type: \" + self._paiSprites[lowX][j].getComponent('Pai').type)\n                            //cc.log('row: ' + row + \", j: \" + j + \", delta\" + delta + \", type: \" + self._paiSprites[row][j - delta].getComponent('Pai').type)\n                            if (lowY >= 0 && self._paiSprites[i][lowY].getComponent('Pai').type === self._paiSprites[i - delta][column].getComponent('Pai').type\n                                && self._paiSprites[i][lowY].getComponent('Pai').type != -1) {\n                                matchFound = true\n                                break\n                            }\n                        }\n                    }\n                }\n                cc.log(\"matchFound: \" + matchFound)\n                if (matchFound) {\n                    for (var i = self.moveEnd; i >= self.moveStart; i--) {\n                        //cc.log(\"x: \" + i + \", y: \" + (j + delta) + \", from: \" + self._paiSprites[row][j + delta].getComponent('Pai').type + \", to: \" + self._paiSprites[row][j].getComponent('Pai').type)\n                        self._paiSprites[i + delta][column].getComponent('Pai').type = self._paiSprites[i][column].getComponent('Pai').type\n                        self._paiSprites[i + delta][column].getComponent(cc.Sprite).spriteFrame = self.spriteFrames[self._paiSprites[i][column].getComponent('Pai').type]\n                        if (i < self.moveStart + delta) {\n                            self._paiSprites[i][column].getComponent('Pai').type = -1\n                            self._paiSprites[i][column].getComponent(cc.Sprite).spriteFrame = self.spriteFrames[34]\n                        }\n                        //cc.log('set row: ' + row + ', j: ' + j + \" to \" + self._paiSprites[row][j].getComponent('Pai').x)\n                        self._paiSprites[i][column].y = self._paiSprites[i][column].getComponent('Pai').x * self.paiHeight\n                        self._paiSprites[i][column].zIndex = 0\n                    }\n                } else {\n                    for (var i = self.moveStart; i <= self.moveEnd; i++) {\n                        self._paiSprites[i][column].y = self._paiSprites[i][column].getComponent('Pai').x * self.paiHeight\n                        self._paiSprites[i][column].zIndex = 0\n                    }\n                }\n            } else if (delta < 0) {\n                for (var i = self.moveStart + delta; i <= self.moveEnd; i++) {\n                    if (i > self.moveEnd + delta && column != self.columns - 1 && column != 0) {\n                        var highY = column + 1\n                        while (highY < self.columns && self._paiSprites[i][highY].getComponent('Pai').type === -1) {\n                            highY++\n                        }\n                        var lowY = column - 1\n                        while (lowY >= 0 && self._paiSprites[i][lowY].getComponent('Pai').type === -1) {\n                            lowY--\n                        }\n                        cc.log('i: ' + i + \", highY: \" + highY)\n                        if (highY < self.columns) {\n                            cc.log(self._paiSprites[i][highY].getComponent('Pai').type)\n                        }\n                        cc.log('i: ' + i + \", lowY: \" + lowY)\n                        if (lowY >= 0) {\n                            cc.log(self._paiSprites[i][lowY].getComponent('Pai').type)\n                        }\n                        //cc.log('highX: ' + highX + \", j: \" + j + \", type: \" + self._paiSprites[highX][j].getComponent('Pai').type)\n                        //cc.log('lowX: ' + lowX + \", j: \" + j + \", type: \" + self._paiSprites[lowX][j].getComponent('Pai').type)\n                        if (highY < self.columns && lowY >= 0 && self._paiSprites[i][highY].getComponent('Pai').type === self._paiSprites[i][lowY].getComponent('Pai').type\n                            && self._paiSprites[i][lowY].getComponent('Pai').type != -1) {\n                            matchFound = true\n                            break\n                        }\n                    }\n                    if (i <= self.moveEnd + delta) {\n                        if (column != self.columns - 1) {\n                            var highY = column + 1\n                            while (highY < self.columns && self._paiSprites[i][highY].getComponent('Pai').type === -1) {\n                                highY++\n                            }\n                            cc.log('i: ' + i + \", highY: \" + highY + \", type: \" + highY < self.columns ? self._paiSprites[i][highY].getComponent('Pai').type : -1)\n                            cc.log('i: ' + i + \", column: \" + column + \", delta\" + delta + \", type: \" + self._paiSprites[i - delta][column].getComponent('Pai').type)\n                            if (highY < self.columns && self._paiSprites[i][highY].getComponent('Pai').type == self._paiSprites[i - delta][column].getComponent('Pai').type\n                                && self._paiSprites[i][highY].getComponent('Pai').type != -1) {\n                                    matchFound = true\n                                    break\n                            }\n                        }\n                        if (column != 0) {\n                            var lowY = column - 1\n                            while (lowY >= 0 && self._paiSprites[i][lowY].getComponent('Pai').type === -1) {\n                                lowY--\n                            }\n                            cc.log('i: ' + i + \", lowY: \" + lowY + \", type: \" + lowY >= 0 ? self._paiSprites[i][lowY].getComponent('Pai').type : -1)\n                            cc.log('i: ' + i + \", column: \" + column + \", delta\" + delta + \", type: \" + self._paiSprites[i - delta][column].getComponent('Pai').type)\n                            if (lowY >= 0 && self._paiSprites[i][lowY].getComponent('Pai').type === self._paiSprites[i - delta][column].getComponent('Pai').type\n                                && self._paiSprites[i][lowY].getComponent('Pai').type != -1) {\n                                matchFound = true\n                                break\n                            }\n                        }\n                    }\n                }\n                cc.log(\"matchFound: \" + matchFound)\n                if (matchFound) {\n                    for (var i = self.moveStart; i <= self.moveEnd; i++) {\n                        //cc.log(\"x: \" + row + \", y: \" + (j + delta) + \", from: \" + self._paiSprites[row][j + delta].getComponent('Pai').type + \", to: \" + self._paiSprites[row][j].getComponent('Pai').type)\n                        self._paiSprites[i + delta][column].getComponent('Pai').type = self._paiSprites[i][column].getComponent('Pai').type\n                        self._paiSprites[i + delta][column].getComponent(cc.Sprite).spriteFrame = self.spriteFrames[self._paiSprites[i][column].getComponent('Pai').type]\n                        if (i > self.moveEnd + delta) {\n                            self._paiSprites[i][column].getComponent('Pai').type = -1\n                            self._paiSprites[i][column].getComponent(cc.Sprite).spriteFrame = self.spriteFrames[34]\n                        }\n                        //cc.log('set row: ' + row + ', j: ' + j + \" to \" + self._paiSprites[row][j].getComponent('Pai').x)\n                        self._paiSprites[i][column].y = self._paiSprites[i][column].getComponent('Pai').x * self.paiHeight\n                        self._paiSprites[i][column].zIndex = 0\n                    }\n                } else {\n                    for (var i = self.moveStart; i <= self.moveEnd; i++) {\n                        self._paiSprites[i][column].y = self._paiSprites[i][column].getComponent('Pai').x * self.paiHeight\n                        self._paiSprites[i][column].zIndex = 0\n                    }\n                }\n            }\n        }\n        self.moveDirection = -1\n    },\n\n    shuffle() {\n        var array = new Array(this.rows * this.columns)\n        var m = array.length, t, index;\n        for (var i = 0; i < this.columns * 2; i++) {\n            array[i * 4] = i\n            array[i * 4 + 1] = i\n            array[i * 4 + 2] = i\n            array[i * 4 + 3] = i\n        }\n\n        // While there remain elements to shuffle\n        while (m) {\n          // Pick a remaining element\n          index = Math.floor(Math.random() * m--);\n\n          // And swap it with the current element.\n          t = array[m];\n          array[m] = array[index];\n          array[index] = t;\n        }\n\n        for (var i = 0; i < this.rows; i++) {\n            for (var j = 0; j < this.columns; j++) {\n                this._paiSprites[i][j].getComponent(cc.Sprite).spriteFrame = this.spriteFrames[array[i * this.columns + j]]\n                this._paiSprites[i][j].getComponent('Pai').type = array[i * this.columns + j]\n                this._paiSprites[i][j].getComponent('Pai').x = i\n                this._paiSprites[i][j].getComponent('Pai').y = j\n            }\n        }\n    },\n\n    start () {\n\n    },\n\n    // update (dt) {},\n});\n"]}